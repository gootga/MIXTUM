<!DOCTYPE html>
<html lang="en" >
  <head>
    <meta charset="utf-8">
    <title>Mixtum: The geometry of admixture in population genetics</title>
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.holoviz.org/panel/1.4.5/dist/images/apple-touch-icon.png">
    <link rel="icon" href="https://cdn.holoviz.org/panel/1.4.5/dist/images/favicon.ico" type="">
    <meta name="name" content="Mixtum: The geometry of admixture in population genetics">
    <style>
      html, body {
	display: flow-root;
        box-sizing: border-box;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/bundled/datatabulator/tabulator-tables@5.5.0/dist/css/tabulator_simple.min.css?v=1.4.5" type="text/css" />

<style type="text/css">

:host(.pn-loading):before, .pn-loading:before {
  background-color: #c3c3c3;
  mask-size: auto calc(min(50%, 400px));
  -webkit-mask-size: auto calc(min(50%, 400px));
}
.py-error { display: none; }</style><script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
<script type="text/javascript" src="https://cdn.holoviz.org/panel/1.4.5/dist/bundled/datatabulator/tabulator-tables@5.5.0/dist/js/tabulator.min.js"></script>
<script type="text/javascript" src="https://cdn.holoviz.org/panel/1.4.5/dist/bundled/datatabulator/luxon/build/global/luxon.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.4.3.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.4.3.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.4.3.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.4.3.min.js"></script>
<script type="text/javascript" src="https://cdn.holoviz.org/panel/1.4.5/dist/panel.min.js"></script>

<script type="text/javascript">
  Bokeh.set_log_level("info");
</script>    <!-- Template CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/loadingspinner.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/listpanel.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/alerts.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/button.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/divider.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/select.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/markdown.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/widgetbox.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/bundled/font-awesome/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/css/loading.css?v=1.4.5">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/bundled/theme/default.css?v=1.4.5">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.4.5/dist/bundled/vanillatemplate/vanilla.css?v=1.4.5">

<style>
  :root {
    --header-background: var(--design-primary-color, var(--panel-primary-color));
    --header-color: var(--design-primary-text-color, var(--panel-on-primary-color));
    --sidebar-width: 330px;
  }
  #header {
    --background-color: var(--header-background);
    --text-color: var(--header-color);
    --design-background-text-color: var(--header-color);
    --design-background-color: var(--header-background);
    background-color: var(--header-background);
    color: var(--header-color);
    box-shadow: 5px 5px 20px silver;
  }
  #sidebar {
    width: var(--sidebar-width);
  }
</style>

    <style type="text/css">
    
:host(.pn-loading):before, .pn-loading:before {
  background-color: #c3c3c3;
  mask-size: auto calc(min(50%, 400px));
  -webkit-mask-size: auto calc(min(50%, 400px));
}
    </style>

    <!-- Template JS -->

  </head>
  <body class="pn-loading pn-arc">
<div id="container">
  <nav id="header">
    <div class="app-header">
      <a class="title" href="" >&nbsp;Mixtum: The geometry of admixture in population genetics</a>
    </div>
    <div id="header-items">
    </div>
    <div class="pn-busy-container">
      <div id="f64830ed-a13b-4990-b012-618effa73c44" data-root-id="p1013" style="display: contents;"></div>
    </div>
  </nav>

  <div id="content">

    <div class="main" id="main">
      <div id="dd0296b4-f969-4cc9-b61f-9b9da43944ef" data-root-id="p1014" style="display: contents;"></div>

      <div id="pn-Modal" class="pn-modal header-adjust">
	<div class="pn-modal-content">
	  <span class="pn-modalclose" id="pn-closeModal">&times;</span>
	</div>
      </div>
    </div>
  </div>
</div>

<script>
  function openNav() {
    document.getElementById("sidebar").classList.remove("hidden");
    document.getElementById("sidebar-button").onclick = closeNav;
  }

  function closeNav() {
    document.getElementById("sidebar").classList.add("hidden");
    document.getElementById("sidebar-button").onclick = openNav;
  }

  var modal = document.getElementById("pn-Modal");
  var span = document.getElementById("pn-closeModal");

  span.onclick = function() {
    modal.style.display = "none";
  }

  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>

<div id="ba29b944-d8f4-489a-85e1-75a252ce1a18" data-root-id="p1008" style="display: contents;"></div>
<div id="fa89501f-acf7-4ce1-893c-61ffc63a8904" data-root-id="p1010" style="display: contents;"></div>
<div id="f30fb28e-3a32-4233-8399-250d8fdfdb1c" data-root-id="p1002" style="display: contents;"></div>
<div id="ad65f7cb-8b65-4bd4-966c-2d9776c73939" data-root-id="p1011" style="display: contents;"></div>


  
    <script type="text/javascript">
    async function main() {
      let pyodide = await loadPyodide();
      await pyodide.loadPackage("micropip");
      await pyodide.runPythonAsync(`
        import micropip
        await micropip.install(['https://cdn.holoviz.org/panel/wheels/bokeh-3.4.3-py3-none-any.whl', 'https://cdn.holoviz.org/panel/1.4.5/dist/wheels/panel-1.4.5-py3-none-any.whl', 'pyodide-http==0.2.1', 'matplotlib', 'numpy', 'pandas']);
      `);
      code = `\nimport asyncio\n\nfrom panel.io.pyodide import init_doc, write_doc\n\ninit_doc()\n\nfrom pathlib import Path\nfrom collections import defaultdict\nimport numpy as np\nfrom time import time\nfrom multiprocessing import Process, Array\nfrom math import ceil\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport panel as pn\nfrom io import StringIO\nfrom datetime import datetime\n\n\n\npn.extension()\npn.extension('tabulator')\n\n\n\n# Globals\n\ngeno_file_path = ''\n\npopulations_dict = defaultdict(list)\npopulations = []\n\nparsed_sel_pops = []\nsel_pops = []\nsnp_names = []\n\nnum_alleles = 0\nallele_frequencies = defaultdict(list)\n\ninvalid_indices = []\nnum_valid_alleles = 0\n\nroles_pops = []\n\nhybrid = ''\nparent1 = ''\nparent2 = ''\nauxiliaries = []\n\nalpha_pre_jl = None\n\nf4ab_prime = None\nf4xb_prime = None\nalpha = None\nalpha_error = None\n\nf4ab_std = None\nf4xb_std = None\nalpha_std = None\nalpha_std_error = None\n\nalpha_ratio = None\nalpha_ratio_avg = None\nalpha_ratio_std_dev = None\nalpha_ratio_hist = None\n\ncosine_pre_jl = None\nangle_pre_jl = None\npercentage_pre_jl = None\n\ncosine_post_jl = None\nangle_post_jl = None\npercentage_post_jl = None\n\nnum_cases = None\n\nf3_test = None\n\n\n\n# Input and output widgets\n\nfile_selector = pn.widgets.FileSelector(name = 'Select .geno, .ind and .snp files', only_files = True)\nload_files_button = pn.widgets.Button(name = 'Parse and check input files', button_type = 'primary')\n\nalert_pane = pn.pane.Alert('### Input files selection\\nPlease, select a triad of .geno, .ind and .snp input files, and optionally a .dat input file with a list of selected populations.\\nThen press the parse button.', alert_type = 'primary')\n\nreset_sel_pops_button = pn.widgets.Button(name = 'Reset selected populations', button_type = 'primary')\n\nnum_procs_input = pn.widgets.IntInput(name = 'Number of parallel processes', value = 1, step = 1, start = 1)\ncompute_freqs_button = pn.widgets.Button(name = 'Compute allele frequencies', button_type = 'primary', disabled = True)\nfreqs_download_button = pn.widgets.FileDownload(label = 'Download allele frequencies', disabled = True, button_type = 'primary')\n\nhybrid_select = pn.widgets.Select(name = 'Hybrid', options = [], size = 10)\nparent1_select = pn.widgets.Select(name = 'Parent 1', options = [], size = 10)\nparent2_select = pn.widgets.Select(name = 'Parent 2', options = [], size = 10)\naux_pops_select = pn.widgets.MultiSelect(name = 'Auxiliaries', options = [], size = 10)\n\n\nplot_width_input = pn.widgets.FloatInput(name = 'Plot width (inches)', value = 4, step = 0.1, start = 0.1)\nplot_height_input = pn.widgets.FloatInput(name = 'Plot height (inches)', value = 4, step = 0.1, start = 0.1)\nplot_title_size_input = pn.widgets.IntInput(name = 'Plot title font size', value = 10, step = 1, start = 1)\nplot_label_size_input = pn.widgets.IntInput(name = 'Plot labels font size', value = 10, step = 1, start = 1)\ncompute_results_button = pn.widgets.Button(name = 'Compute results', button_type = 'primary', disabled = True)\nresults_download_button = pn.widgets.FileDownload(label = 'Download results', disabled = True, button_type = 'primary')\nf4_points_download_button = pn.widgets.FileDownload(label = 'Download f4-points', disabled = True, button_type = 'primary')\nresulting_data_output = pn.pane.Markdown()\n\n\n\n# Tables\n\navail_pops_filter = pn.widgets.TextInput(name = 'Search populations:', placeholder = 'Enter population name', disabled = True)\navail_pops_table = pn.widgets.Tabulator(show_index = False, disabled = True, selectable = False, pagination = 'local', page_size = 10, align = ('start'), widths = {'population': '100%'})\nsel_pops_table = pn.widgets.Tabulator(show_index = False, disabled = True, selectable = False, sortable = False, pagination = 'local', page_size = 10, align = ('start'), widths = {'population': '100%'}, buttons = {'remove': "<i class='fa fa-times'></i>"})\n\n\n\n# Plot panes\n\npane_margin = 10\n\nf4prime_fit_pane = pn.pane.Matplotlib(align = ('center', 'start'), margin = pane_margin)\nf4_fit_pane = pn.pane.Matplotlib(align = ('center', 'start'), margin = pane_margin)\nf4_ratio_histogram_pane = pn.pane.Matplotlib(align = ('center', 'start'), margin = pane_margin)\n\n\n\ndef set_alert_pane(text, type):\n    alert_pane.object = text\n    alert_pane.alert_type = type\n\n\n\ndef reset_alert_pane(event):\n    text = '### Input files selection\\nPlease, select a triad of .geno, .ind and .snp input files, and optionally a .dat input file with a list of selected populations.\\nThen press the parse button.'\n    alert_pane.object = text\n    alert_pane.alert_type = 'primary'\n\n\n\nfile_selector.param.watch(reset_alert_pane, 'value')\n\n\n\ndef set_pops_table_data(pops, table):\n    idx = list(range(len(pops)))\n    df = pd.DataFrame({'population': pops}, index = idx)\n    table.value = df\n\n\n\ndef contains_filter(df, pattern, column):\n    if not pattern:\n        return df\n    return df[df[column].str.contains(pattern, case = False)]\n\n\n\navail_pops_table.add_filter(pn.bind(contains_filter, pattern = avail_pops_filter, column = 'population'))\n\n\n\ndef set_sel_pops_data(event):\n    global sel_pops\n\n    pop = event.value\n    if pop in sel_pops:\n        sel_pops.remove(pop)\n    else:\n        sel_pops.insert(0, pop)\n\n    set_pops_table_data(sel_pops, sel_pops_table)\n\n    if len(sel_pops) > 0:\n        compute_freqs_button.disabled = False\n    else:\n        compute_freqs_button.disabled = True\n\n\n\navail_pops_table.on_click(set_sel_pops_data)\n\n\n\ndef remove_sel_pop(event):\n    if event.column != 'remove':\n        return\n\n    global sel_pops\n    index = int(event.row)\n    sel_pops.pop(index)\n\n    set_pops_table_data(sel_pops, sel_pops_table)\n\n    if len(sel_pops) == 0:\n        compute_freqs_button.disabled = True\n\n\n\nsel_pops_table.on_click(remove_sel_pop)\n\n\n\ndef set_admixture_model():\n    global hybrid, parent1, parent2, auxiliaries\n\n    hybrid = hybrid_select.value\n    parent1 = parent1_select.value\n    parent2 = parent2_select.value\n    auxiliaries = aux_pops_select.value\n\n\n\ndef init_selects_options():\n    global roles_pops\n    roles_pops = [pop for pop in sel_pops]\n\n    hybrid_select.options = roles_pops\n    parent1_select.options = roles_pops\n    parent2_select.options = roles_pops\n    aux_pops_select.options = roles_pops\n\n    hybrid_select.value = roles_pops[0]\n    parent1_select.value = roles_pops[1]\n    parent2_select.value = roles_pops[2]\n    aux_pops_select.value = roles_pops[3:]\n\n    set_admixture_model()\n\n\n\ndef set_selects_values(event):\n    select_name = event.obj.name\n    old_pop = event.old\n    new_pop = event.new\n\n    if select_name == 'Auxiliaries':\n        pops = [hybrid_select.value, parent1_select.value, parent2_select.value]\n        aux_pops_select.value = [pop for pop in new_pop if pop not in pops]\n    else:\n        if new_pop in aux_pops_select.value:\n            aux_pops_select.value = [pop for pop in aux_pops_select.value if pop != new_pop]\n        else:\n            selects = []\n            if select_name == 'Hybrid':\n                selects = [parent1_select, parent2_select]\n            elif select_name == 'Parent 1':\n                selects = [hybrid_select, parent2_select]\n            elif select_name == 'Parent 2':\n                selects = [hybrid_select, parent1_select]\n\n            for sel in selects:\n                if sel.value == new_pop and old_pop != None:\n                    sel.value = old_pop\n\n    set_admixture_model()\n\n    compute_results_button.disabled = (len(aux_pops_select.value) == 0)\n\n\n\nhybrid_select.param.watch(set_selects_values, 'value')\nparent1_select.param.watch(set_selects_values, 'value')\nparent2_select.param.watch(set_selects_values, 'value')\naux_pops_select.param.watch(set_selects_values, 'value')\n\n\n\ndef parse_selected_populations(file_path):\n    global parsed_sel_pops\n    read_sel_pops = []\n\n    with file_path.open(mode = 'r', encoding = 'utf-8') as file:\n        content = file.read()\n        pop_lines = [line.split() for line in content.splitlines() if not line.startswith('#')]\n        read_sel_pops = [pop_line[0] for pop_line in pop_lines]\n\n    invalid_pops = []\n    for pop in read_sel_pops:\n        if not pop in populations:\n            invalid_pops.append(pop)\n\n    global sel_pops\n    sel_pops = [pop for pop in read_sel_pops if pop not in invalid_pops]\n\n    global parsed_sel_pops\n    parsed_sel_pops = [pop for pop in read_sel_pops if pop not in invalid_pops]\n\n    if len(sel_pops) > 0:\n        set_pops_table_data(sel_pops, sel_pops_table)\n        compute_freqs_button.disabled = False\n    else:\n        compute_freqs_button.disabled = True\n\n\n\ndef reset_sel_pops(event):\n    global sel_pops\n    sel_pops = [pop for pop in parsed_sel_pops]\n    set_pops_table_data(sel_pops, sel_pops_table)\n\n    if len(sel_pops) == 0:\n        compute_freqs_button.disabled = True\n        freqs_download_button.disabled = True\n\n\n\npn.bind(reset_sel_pops, reset_sel_pops_button, watch = True)\n\n\n\ndef parse_populations(file_path):\n    global populations_dict, populations\n\n    populations_dict = defaultdict(list)\n    populations = []\n\n    num_rows = 0\n\n    text = f'### Parsing and checking {file_path}\\n'\n    text_lines = [text, '']\n\n    with file_path.open(mode = 'r', encoding = 'utf-8') as file:\n        content = file.read()\n        for index, line in enumerate(content.splitlines()):\n            columns = line.split()\n            pop_name = columns[-1]\n            populations_dict[pop_name].append(index)\n\n            num_rows += 1\n            if (num_rows % 1000 == 0):\n                text_lines[-1] = f'Number of rows: {num_rows}'\n                set_alert_pane('\\n'.join(text_lines), 'warning')\n\n        populations = list(populations_dict.keys())\n\n    return num_rows\n\n\n\ndef parse_snp_names(file_path):\n    global snp_names\n    snp_names = []\n\n    num_alleles = 0\n\n    text = f'### Parsing and checking {file_path}\\n'\n    text_lines = [text, '']\n\n    with file_path.open(mode = 'r', encoding = 'utf-8') as file:\n        content = file.read()\n        for line in content.splitlines():\n            columns = line.split()\n            snp_names.append(columns[0])\n\n            num_alleles += 1\n            if (num_alleles % 10000 == 0):\n                text_lines[-1] = f'Number of alleles: {num_alleles}'\n\n                pn.bind(load_input_files, load_files_button, watch = True)\n\n                set_alert_pane('\\n'.join(text_lines), 'warning')\n\n    return num_alleles\n\n\n\ndef geno_table_shape(file_path):\n    num_rows = 0\n    num_columns = []\n\n    text = f'### Parsing and checking {file_path}\\n'\n    text_lines = [text, '']\n\n    with file_path.open(mode = 'r', encoding = 'utf-8') as file:\n        for row in file:\n            num_rows += 1\n            num_columns.append(len(row) - 1)\n\n            if (num_rows % 1000 == 0):\n                text_lines[-1] = f'Number of rows: {num_rows}'\n                set_alert_pane('\\n'.join(text_lines), 'warning')\n\n        text_lines[-1] = f'Number of rows: {num_rows}'\n        set_alert_pane('\\n'.join(text_lines), 'warning')\n\n    return num_rows, num_columns\n\n\n\ndef load_input_files(event):\n    file_paths = file_selector.value\n\n    # Check selected files for invalid suffixes\n\n    invalid_file_paths = []\n\n    for fp in file_paths:\n        file_path = Path(fp)\n        if file_path.suffix not in ['.geno', '.ind', '.snp', '.dat']:\n            invalid_file_paths.append(fp + '\\n')\n\n    if len(invalid_file_paths) > 0:\n        invalid_fp_list = '- ' + '- '.join(invalid_file_paths)\n        text = f'### Unrecognized file suffixes\\nValid input files end with the suffixes: .geno, .ind and .snp\\nPlease, deselect the following files:\\n{invalid_fp_list}'\n        set_alert_pane(text, 'danger')\n        return\n\n    # Check for triad\n\n    suffixes = [Path(fp).suffix for fp in file_paths]\n\n    count_geno = suffixes.count('.geno')\n    count_ind = suffixes.count('.ind')\n    count_snp = suffixes.count('.snp')\n    count_dat = suffixes.count('.dat')\n\n    if count_geno != 1 or count_ind != 1 or count_snp != 1 or count_dat > 1:\n        text = '### Wrong number of input files\\nPlease, select a triad of input files (.geno, .ind, .snp) and optionally a single selected populations input file (.dat)'\n        set_alert_pane(text, 'danger')\n        return\n\n    # Succesful selection\n\n    global geno_file_path\n\n    geno_file_path = next((Path(fp) for fp in file_paths if Path(fp).suffix == '.geno'), None)\n    ind_file_path = next((Path(fp) for fp in file_paths if Path(fp).suffix == '.ind'), None)\n    snp_file_path = next((Path(fp) for fp in file_paths if Path(fp).suffix == '.snp'), None)\n    dat_file_path = next((Path(fp) for fp in file_paths if Path(fp).suffix == '.dat'), None)\n\n    # Parsing\n\n    # Check .geno table\n\n    num_geno_rows, num_geno_columns = geno_table_shape(geno_file_path)\n\n    if not all(nc == num_geno_columns[0] for nc in num_geno_columns):\n        text = f'### Parsing failed\\nIn {geno_file_path}: Not all rows are of equal number of columns'\n        set_alert_pane(text, 'danger')\n        return\n\n    # Parse and check number of alleles and rows\n\n    global num_alleles\n\n    num_alleles = parse_snp_names(snp_file_path)\n\n    if num_alleles != num_geno_rows:\n        text = f'### Parsing failed\\nNumber of alleles ({num_alleles}) in .snp file is not equal to number of rows ({num_geno_rows}) in .geno file'\n        set_alert_pane(text, 'danger')\n        return\n\n    # Parse and check columns\n\n    num_ind_rows = parse_populations(ind_file_path)\n\n    if num_ind_rows != num_geno_columns[0]:\n        text = f'### Parsing failed\\nNumber of rows ({num_ind_rows}) in .ind file is not equal to number of columns ({num_geno_columns[0]}) in .geno file'\n        set_alert_pane(text, 'danger')\n        return\n\n    # Parse and check selected populations\n\n    global sel_pops\n    global parsed_sel_pops\n\n    if dat_file_path is not None:\n        parse_selected_populations(dat_file_path)\n    else:\n        sel_pops = []\n        parsed_sel_pops = []\n        compute_freqs_button.disabled = True\n\n    freqs_download_button.disabled = True\n\n    # Set tables\n\n    set_pops_table_data(populations, avail_pops_table)\n    set_pops_table_data(sel_pops, sel_pops_table)\n\n    avail_pops_filter.disabled = False\n\n    text = f'### Parsing successful\\nParsed input files seem to have a correct structure:\\n- {num_geno_rows} rows and {num_geno_columns[0]} columns in {geno_file_path}\\n- {num_alleles} alleles in {snp_file_path}\\n- {num_ind_rows} rows and {len(populations_dict)} populations in {ind_file_path}'\n    if len(sel_pops) > 0:\n        text += f'\\n- {len(sel_pops)} selected populations in {dat_file_path}'\n    set_alert_pane(text, 'success')\n\n\n\npn.bind(load_input_files, load_files_button, watch = True)\n\n\n\ndef invalid_allele_indices():\n    indices = []\n\n    for pop, freqs in allele_frequencies.items():\n        for index, freq in enumerate(freqs):\n            if freq == -1:\n                indices.append(index)\n\n    global invalid_indices\n    invalid_indices = np.unique(np.array(indices, dtype = int))\n\n    global num_valid_alleles\n    num_valid_alleles = num_alleles - invalid_indices.size\n\n\n\ndef remove_invalid_alleles():\n    global allele_frequencies\n    for pop, freqs in allele_frequencies.items():\n        allele_frequencies[pop] = np.delete(freqs, invalid_indices)\n\n\n\ndef allele_frequency(alleles):\n    freq = 0\n    num_alleles = 0\n\n    for a in alleles:\n        if a != 9:\n            freq += (2 - a) / 2\n            num_alleles += 1\n\n    if num_alleles == 0:\n        return -1\n\n    return freq / num_alleles\n\n\n\ndef population_allele_frequencies(pop_indices, allele_freqs):\n    with geno_file_path.open(mode = 'r', encoding = 'utf-8') as file:\n        for index, row in enumerate(file):\n            allele_freqs[index] = allele_frequency([int(row[i]) for i in pop_indices])\n\n\n\ndef parallel_compute_populations_frequencies(event):\n    pop_indices = [populations_dict[pop] for pop in sel_pops]\n    num_computations = len(pop_indices)\n    num_procs = num_procs_input.value\n    batch_size = ceil(num_computations / num_procs)\n    index = 0\n\n    text_lines = ['### Computing']\n    text = f'Computing {num_alleles} frequencies per population for {num_computations} populations in {batch_size} batches of {num_procs} parallel processes.'\n    text_lines.append(text)\n    set_alert_pane('\\n'.join(text_lines), 'warning')\n\n    pops_names = ''\n    text_lines.append('')\n\n    allele_freqs = [Array('d', num_alleles) for i in range(num_computations)]\n\n    t1 = time()\n\n    for nb in range(batch_size):\n        procs = []\n        computing_pops = []\n\n        for nt in range(num_procs):\n            if index < num_computations:\n                p = Process(target = population_allele_frequencies, args = (pop_indices[index], allele_freqs[index]))\n                procs.append(p)\n                p.start()\n                computing_pops.append(sel_pops[index])\n            index += 1\n\n        pops_names += '{' + ', '.join(computing_pops) + '} '\n        text_lines[-1] = pops_names\n        set_alert_pane('\\n'.join(text_lines), 'warning')\n\n        for p in procs:\n            p.join()\n\n    global allele_frequencies\n    allele_frequencies = defaultdict(list)\n    for i, freqs in enumerate(allele_freqs):\n        allele_frequencies[sel_pops[i]] = np.array(freqs)\n\n    t2 = time()\n    comp_time = t2 - t1\n\n    text_lines[0] = '### Finished'\n    text = f'Computation took {comp_time:.2f} seconds.'\n    text_lines.append(text)\n    set_alert_pane('\\n'.join(text_lines), 'success')\n\n    invalid_allele_indices()\n\n    if len(invalid_indices) > 0:\n        text = f'Number of excluded SNPs: {len(invalid_indices)}'\n        text_lines.append(text)\n        set_alert_pane('\\n'.join(text_lines), 'success')\n\n        remove_invalid_alleles()\n\n    init_selects_options()\n\n    compute_results_button.disabled = False\n    resulting_data_output.object = ''\n\n    f4prime_fit_pane.object = None\n    f4_fit_pane.object = None\n    f4_ratio_histogram_pane.object = None\n\n    freqs_download_button.disabled = False\n    results_download_button.disabled = True\n    f4_points_download_button.disabled = True\n\n\n\n\npn.bind(parallel_compute_populations_frequencies, compute_freqs_button, watch = True)\n\n\n\ndef mixing_coefficient_pre_jl(hybrid_freqs, parent1_freqs, parent2_freqs):\n    parent_diff = parent1_freqs - parent2_freqs\n    return np.dot(hybrid_freqs - parent2_freqs, parent_diff) / np.dot(parent_diff, parent_diff)\n\n\n\ndef admixture_angle_pre_jl(hybrid_freqs, parent1_freqs, parent2_freqs):\n    xa = hybrid_freqs - parent1_freqs\n    xb = hybrid_freqs - parent2_freqs\n\n    cosine = np.dot(xa, xb) / np.sqrt(np.dot(xa, xa) * np.dot(xb, xb))\n    angle = np.arccos(cosine)\n    percentage = angle / np.pi\n\n    return cosine, angle * 180 / np.pi, percentage\n\n\n\ndef f3(hybrid_freqs, parent1_freqs, parent2_freqs):\n    num_alleles = hybrid_freqs.size\n    return np.dot(hybrid_freqs - parent1_freqs, hybrid_freqs - parent2_freqs) / num_alleles\n\n\n\ndef f4_prime(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs):\n    num_aux_pops = len(aux_freqs)\n    num_pairs = int(num_aux_pops * (num_aux_pops - 1) / 2)\n\n    f4ab_prime = np.zeros(num_pairs)\n    f4xb_prime = np.zeros(num_pairs)\n\n    ab = parent1_freqs - parent2_freqs\n    xb = hybrid_freqs - parent2_freqs\n\n    index = 0\n\n    for i in range(num_aux_pops):\n        for j in range(i + 1, num_aux_pops):\n            ij = aux_freqs[i] - aux_freqs[j]\n            norm_ij = np.linalg.norm(ij)\n            f4ab_prime[index] = np.dot(ab, ij) / norm_ij\n            f4xb_prime[index] = np.dot(xb, ij) / norm_ij\n            index += 1\n\n    return f4ab_prime, f4xb_prime\n\n\n\ndef f4_std(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs):\n    num_aux_pops = len(aux_freqs)\n    num_pairs = int(num_aux_pops * (num_aux_pops - 1) / 2)\n\n    f4ab_std = np.zeros(num_pairs)\n    f4xb_std = np.zeros(num_pairs)\n\n    ab = parent1_freqs - parent2_freqs\n    xb = hybrid_freqs - parent2_freqs\n\n    index = 0\n\n    for i in range(num_aux_pops):\n        for j in range(i + 1, num_aux_pops):\n            ij = aux_freqs[i] - aux_freqs[j]\n            f4ab_std[index] = np.dot(ab, ij)\n            f4xb_std[index] = np.dot(xb, ij)\n            index += 1\n\n    num_alleles = hybrid_freqs.size\n\n    return f4ab_std / num_alleles, f4xb_std / num_alleles\n\n\n\ndef least_squares(x, y):\n    dim = len(x)\n\n    A = np.vstack([x, np.zeros(dim)]).T\n    alpha = np.linalg.lstsq(A, y)[0][0]\n\n    Q = 0\n    for i in range(dim):\n        Q += (y[i] - alpha * x[i]) ** 2\n\n    x_avg = 0\n    for i in range(dim):\n        x_avg += x[i]\n    x_avg /= dim\n\n    x_dev = 0\n    for i in range(dim):\n        x_dev += (x[i] - x_avg) ** 2\n\n    s_alpha = np.sqrt(Q / ((dim - 2) * x_dev))\n    t = 1.98\n\n    error = s_alpha * t\n\n    return alpha, error\n\n\n\ndef admixture_angle_post_jl(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs):\n    num_aux_pops = len(aux_freqs)\n    num_pairs = int(num_aux_pops * (num_aux_pops - 1) / 2)\n\n    xa = hybrid_freqs - parent1_freqs\n    xb = hybrid_freqs - parent2_freqs\n\n    sum1 = 0\n    sum2 = 0\n    sum3 = 0\n\n\n    for i in range(num_aux_pops):\n        for j in range(i + 1, num_aux_pops):\n            ij = aux_freqs[i] - aux_freqs[j]\n\n            xaij = np.dot(xa, ij)\n            xbij = np.dot(xb, ij)\n            ijij = np.dot(ij, ij)\n\n            sum1 += xaij * xbij / ijij\n            sum2 += (xaij ** 2) / ijij\n            sum3 += (xbij ** 2) / ijij\n\n    cosine = sum1 / np.sqrt(sum2 * sum3)\n    angle = np.arccos(cosine)\n    percentage = angle / np.pi\n\n    return cosine, angle * 180 / np.pi, percentage\n\n\n\ndef f4_ratio(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs):\n    num_aux_pops = len(aux_freqs)\n    num_pairs = int(num_aux_pops * (num_aux_pops - 1) / 2)\n\n    xb = hybrid_freqs - parent2_freqs\n    ab = parent1_freqs - parent2_freqs\n\n    alpha = np.zeros(num_pairs)\n\n    index = 0\n\n    for i in range(num_aux_pops):\n        for j in range(i + 1, num_aux_pops):\n            ij = aux_freqs[i] - aux_freqs[j]\n            alpha[index] = np.dot(xb, ij) / np.dot(ab, ij)\n            index += 1\n\n    alpha_01 = alpha[(alpha >= 0) & (alpha <= 1)]\n    alpha_avg = np.average(alpha_01)\n    alpha_std_dev = np.std(alpha_01) * 1.96\n    alpha_hist = np.histogram(alpha, 20)\n\n    return alpha, alpha_avg, alpha_std_dev, alpha_hist, alpha_01.size\n\n\n\ndef plot_fit(x, y, alpha, title, xlabel, ylabel):\n    fig, ax = plt.subplots(figsize = (plot_width_input.value, plot_height_input.value), layout = 'constrained')\n\n    ax.set_title(title, fontsize = plot_title_size_input.value)\n\n    ax.set_xlabel(xlabel, fontsize = plot_label_size_input.value)\n    ax.set_ylabel(ylabel, fontsize = plot_label_size_input.value)\n\n    ax.plot(x, y, '.')\n    ax.plot(x, alpha * x)\n\n    return fig\n\n\n\ndef plot_histogram(histogram, title, xlabel, ylabel):\n    counts = histogram[0]\n    edges = histogram[1]\n\n    fig, ax = plt.subplots(figsize = (plot_width_input.value, plot_height_input.value), layout = 'constrained')\n\n    ax.set_title(title, fontsize = plot_title_size_input.value)\n\n    ax.set_xlabel(xlabel, fontsize = plot_label_size_input.value)\n    ax.set_ylabel(ylabel, fontsize = plot_label_size_input.value)\n\n    ax.bar(edges[:-1], counts, width = np.diff(edges), edgecolor = 'black', align = 'edge')\n\n    return fig\n\n\n\ndef plot_results(event):\n    global f4ab_prime, f4xb_prime, alpha, f4ab_std, f4xb_std, alpha_std, alpha_ratio_hist\n\n    if all([el is not None for el in [f4ab_prime, f4xb_prime, alpha, f4ab_std, f4xb_std, alpha_std, alpha_ratio_hist]]):\n        f4prime_fit_fig = plot_fit(f4ab_prime, f4xb_prime, alpha, f'{hybrid} = alpha {parent1} + (1 - alpha) {parent2}', f"f4'({parent1}, {parent2}; i, j)", f"f4'({hybrid}, {parent2}; i, j)")\n        f4_fit_fig = plot_fit(f4ab_std, f4xb_std, alpha_std, f'{hybrid} = alpha {parent1} + (1 - alpha) {parent2}', f"f4({parent1}, {parent2}; i, j)", f"f4({hybrid}, {parent2}; i, j)")\n        f4_ratio_histogram_fig = plot_histogram(alpha_ratio_hist, f'{hybrid} = alpha {parent1} + (1 - alpha) {parent2}', 'f4 ratio', 'Counts')\n\n        f4prime_fit_pane.object = f4prime_fit_fig\n        f4_fit_pane.object = f4_fit_fig\n        f4_ratio_histogram_pane.object = f4_ratio_histogram_fig\n\n\n\nplot_width_input.param.watch(plot_results, 'value')\nplot_height_input.param.watch(plot_results, 'value')\nplot_title_size_input.param.watch(plot_results, 'value')\nplot_label_size_input.param.watch(plot_results, 'value')\n\n\n\ndef compute_results(event):\n    global alpha_pre_jl, cosine_pre_jl, angle_pre_jl, percentage_pre_jl, f3_test\n    global f4ab_prime, f4xb_prime, alpha, alpha_error\n    global f4ab_std, f4xb_std, alpha_std, alpha_std_error\n    global cosine_post_jl, angle_post_jl, percentage_post_jl\n    global alpha_ratio, alpha_ratio_avg, alpha_ratio_std_dev, alpha_ratio_hist, num_cases\n\n    hybrid_freqs = allele_frequencies[hybrid]\n    parent1_freqs = allele_frequencies[parent1]\n    parent2_freqs = allele_frequencies[parent2]\n    aux_freqs = [allele_frequencies[pop] for pop in auxiliaries]\n\n    alpha_pre_jl = mixing_coefficient_pre_jl(hybrid_freqs, parent1_freqs, parent2_freqs)\n\n    cosine_pre_jl, angle_pre_jl, percentage_pre_jl = admixture_angle_pre_jl(hybrid_freqs, parent1_freqs, parent2_freqs)\n\n    f3_test = f3(hybrid_freqs, parent1_freqs, parent2_freqs)\n\n    f4ab_prime, f4xb_prime = f4_prime(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs)\n    alpha, alpha_error = least_squares(f4ab_prime, f4xb_prime)\n\n    f4ab_std, f4xb_std = f4_std(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs)\n    alpha_std, alpha_std_error = least_squares(f4ab_std, f4xb_std)\n\n    cosine_post_jl, angle_post_jl, percentage_post_jl = admixture_angle_post_jl(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs)\n\n    alpha_ratio, alpha_ratio_avg, alpha_ratio_std_dev, alpha_ratio_hist, num_cases = f4_ratio(hybrid_freqs, parent1_freqs, parent2_freqs, aux_freqs)\n\n    # Output\n\n    num_aux_pops = len(auxiliaries)\n    num_aux_pairs = int(num_aux_pops * (num_aux_pops - 1) / 2)\n\n    text = '### Admixture model\\n'\n    text += f'\`{hybrid} = {parent1} + {parent2}\`\\n'\n    text += f'SNPs employed: {num_valid_alleles} / {num_alleles}\\n'\n    text += f'Auxiliary populations: {num_aux_pops}\\n'\n    text += f'Auxiliary pairs: {num_aux_pairs}\\n'\n    text += '### Admixture angle\\n'\n    text += '| Calculation | Cosine | Angle (deg) | Percentage of 180 deg |\\n'\n    text += '| --- | --- | --- | --- |\\n'\n    text += f'| Pre-JL | {cosine_pre_jl:7.4f} | {angle_pre_jl:7.2f} | {percentage_pre_jl:.1%} |\\n'\n    text += f'| Post-JL | {cosine_post_jl:7.4f} | {angle_post_jl:7.2f} | {percentage_post_jl:.1%} |\\n'\n    text += '### Mixing coefficient\\n'\n    text += '| Calculation | Alpha | Error (95% CI) |\\n'\n    text += '| --- | --- | --- |\\n'\n    text += f'| Pre-JL | {alpha_pre_jl:6.4f} | - |\\n'\n    text += f'| Post-JL (f4-prime, renormalized) | {alpha:6.4f} | {alpha_error:6.4f} |\\n'\n    text += f'| Post-JL NR (f4, standard) | {alpha_std:6.4f} | {alpha_std_error:6.4f} |\\n'\n    text += '### f4-ratio and f3 test\\n'\n    text += f'f4-ratio average if [0, 1]: {alpha_ratio_avg:6.4f} +/- {alpha_ratio_std_dev:6.4f} (95% CI), {num_cases} cases\\n'\n    text += f'Standard admixture test: f3(c1, c2; x) < 0 ? {f3_test:8.6f}'\n\n    resulting_data_output.object = text\n\n    plot_results(None)\n\n    results_download_button.disabled = False\n    f4_points_download_button.disabled = False\n\n\n\npn.bind(compute_results, compute_results_button, watch = True)\n\n\n\ndef save_population_allele_frequencies():\n    file = StringIO()\n\n    pops_width = max([len(name) for name in sel_pops])\n    prec = 6\n    col_width = max(prec + 7, pops_width)\n\n    headers_format = ' '.join([f'{{{i}:^{col_width}}}' for i, pop in enumerate(sel_pops)])\n    headers = headers_format.format(*sel_pops)\n    file.write(headers + '\\n')\n\n    row_format = ' '.join([f'{{{i}: {col_width}.{prec}E}}' for i, pop in enumerate(sel_pops)])\n\n    for allele_index in range(num_valid_alleles):\n        row = [freqs[allele_index] for pop, freqs in allele_frequencies.items()]\n        file.write(row_format.format(*row) + '\\n')\n\n    file.seek(0)\n\n    now = datetime.now()\n    name = now.strftime("frequencies_%Y-%m-%d_%Hh%Mm%Ss")\n    freqs_download_button.filename = name + '.dat'\n\n    return file\n\n\n\nfreqs_download_button.callback = save_population_allele_frequencies\n\n\n\ndef save_f4_points():\n    file = StringIO()\n\n    aux_pops_width = max([len(name) for name in auxiliaries])\n    prec = 6\n    col_width = prec + 7\n\n    headers = '{0:^{col_width}} {1:^{col_width}} {2:^{col_width}} {3:^{col_width}} {4:^{col_width}} {5:^{aux_pops_width}} {6:^{aux_pops_width}}'.format('f4primeAB', 'f4primeXB', 'f4AB', 'f4XB', 'f4-ratio', 'Aux1', 'Aux2', col_width = col_width, aux_pops_width = aux_pops_width)\n    file.write(headers + '\\n')\n\n    num_aux_pops = len(sel_pops[3:])\n\n    index = 0\n\n    for i in range(num_aux_pops):\n        for j in range(i + 1, num_aux_pops):\n            row = '{0: {col_width}.{prec}E} {1: {col_width}.{prec}E} {2: {col_width}.{prec}E} {3: {col_width}.{prec}E} {4: {col_width}.{prec}E} {5:{aux_pops_width}} {6:{aux_pops_width}}'.format(f4ab_prime[index], f4xb_prime[index], f4ab_std[index], f4xb_std[index], alpha_ratio[index], auxiliaries[i], auxiliaries[j], prec = prec, col_width = col_width, aux_pops_width = aux_pops_width)\n            file.write(row + '\\n')\n            index += 1\n\n    file.seek(0)\n\n    now = datetime.now()\n    name = now.strftime("f4_points_%Y-%m-%d_%Hh%Mm%Ss")\n    f4_points_download_button.filename = name + '.dat'\n\n    return file\n\n\n\nf4_points_download_button.callback = save_f4_points\n\n\n\ndef save_admixture_data():\n    num_aux_pops = len(auxiliaries)\n    num_aux_pairs = int(num_aux_pops * (num_aux_pops - 1) / 2)\n\n    file = StringIO()\n\n    file.write(f'Admixture model: {hybrid} = {parent1} + {parent2}\\n')\n    file.write(f'SNPs employed: {num_valid_alleles} / {num_alleles}\\n')\n    file.write(f'Auxiliary populations: {num_aux_pops}\\n')\n    file.write(f'Auxiliary pairs: {num_aux_pairs}\\n')\n    file.write(f'Cos pre-JL:  {cosine_pre_jl:7.4f} ---> Angle pre-JL:  {angle_pre_jl:7.2f} deg vs 180 deg: {percentage_pre_jl:.1%}\\n')\n    file.write(f'Cos post-JL: {cosine_post_jl:7.4f} ---> Angle post-JL: {angle_post_jl:7.2f} deg vs 180 deg: {percentage_post_jl:.1%}\\n')\n    file.write(f'Alpha pre-JL:     {alpha_pre_jl:6.4f}\\n')\n    file.write(f'Alpha post-JL:    {alpha:6.4f} +/- {alpha_error:6.4f} (95% CI) (f4-prime, renormalized)\\n')\n    file.write(f'Alpha NR post-JL: {alpha_std:6.4f} +/- {alpha_std_error:6.4f} (95% CI) (f4, standard)\\n')\n    file.write(f'f4-ratio average if [0, 1]: {alpha_ratio_avg:6.4f} +/- {alpha_ratio_std_dev:6.4f} (95% CI), {num_cases} cases\\n')\n    file.write(f'Standard admixture test: f3(c1, c2; x) < 0 ? {f3_test:8.6f}')\n\n    file.seek(0)\n\n    now = datetime.now()\n    name = now.strftime("results_%Y-%m-%d_%Hh%Mm%Ss")\n    results_download_button.filename = name + '.dat'\n\n    return file\n\n\n\nresults_download_button.callback = save_admixture_data\n\n\n\ndef admixture_model_card_width():\n    return hybrid_select.width + 2 * hybrid_select.margin[1] + parent1_select.width + 2 * parent1_select.margin[1] + parent2_select.width + 2 * parent2_select.margin[1] + aux_pops_select.width + 2 * aux_pops_select.margin[1]\n\ndef admixture_model_card_height():\n    print(hybrid_select.height)\n    return hybrid_select.height + 2 * hybrid_select.margin[0]\n\n\n\n# Cards and their layouts\n\ncard_margin = 10\n\navail_pops_box = pn.WidgetBox('### Available populations', avail_pops_filter, avail_pops_table, margin = card_margin)\nsel_pops_box = pn.WidgetBox('### Selected populations', reset_sel_pops_button, sel_pops_table, margin = card_margin)\ncomp_box = pn.WidgetBox('### Computation', num_procs_input, compute_freqs_button, freqs_download_button, margin = card_margin)\n\nadmixture_model_layout = pn.FlexBox(hybrid_select, parent1_select, parent2_select, aux_pops_select, flex_direction = 'row', justify_content = 'space-evenly')\nadmixture_model_card = pn.Card(admixture_model_layout, title = 'Admixture model', collapsible = False, margin = card_margin, styles = {'width': 'fit-content'})\n\nactions_card = pn.Card(compute_results_button, f4_points_download_button, results_download_button, title = 'Actions', collapsible = False, margin = card_margin, styles = {'width': 'fit-content'})\nplot_options_card = pn.Card(plot_width_input, plot_height_input, plot_title_size_input, plot_label_size_input, title = 'Plot options', collapsible = False, margin = card_margin, styles = {'width': 'fit-content'})\nresulting_data_card = pn.Card(resulting_data_output, title = 'Results', collapsible = False, margin = card_margin, styles = {'width': 'fit-content'})\n\nflex_box1 = pn.FlexBox(actions_card, plot_options_card, flex_direction = 'row', justify_content = 'space-evenly', margin = card_margin, styles = {'width': 'fit-content'})\n\ncol = pn.Column(admixture_model_card, flex_box1, styles = {'width': 'fit-content'})\n\nflex_box2 = pn.FlexBox(col, resulting_data_card, flex_direction = 'row', justify_content = 'space-evenly', margin = card_margin, styles = {'width': 'fit-content'})\n\nplots_layout = pn.FlexBox(f4prime_fit_pane, f4_fit_pane, f4_ratio_histogram_pane, flex_direction = 'row', justify_content = 'space-evenly')\nplots_card = pn.Card(plots_layout, title = 'Plots', collapsible = False, margin = card_margin, styles = {'width': 'fit-content'})\n\n# Layouts\n\ninput_files_layout = pn.Column(file_selector, load_files_button, name = 'Inputs', sizing_mode = 'stretch_width')\nselect_pops_layout = pn.FlexBox(avail_pops_box, sel_pops_box, comp_box, name = 'Select populations', flex_direction = 'row')\nresults_layout = pn.Column(flex_box2, plots_card, name = 'Results')\n\n# Tabs\n\ntabs = pn.Tabs(input_files_layout, select_pops_layout, results_layout)\n\n# Main layout\n\nmain_layout = pn.Column(alert_pane, tabs, scroll = True)\n\n# Template\n\ntemplate = pn.template.VanillaTemplate(title = 'Mixtum: The geometry of admixture in population genetics')\ntemplate.main.append(main_layout)\ntemplate.servable()\n\n\nawait write_doc()`
      await pyodide.runPythonAsync(code);
    }
    main();
    </script>
    <script type="application/json" id="p1119">
      {"c1e7f9d2-1a8d-48e0-94dc-c1dc93697868":{"version":"3.4.3","title":"Mixtum: The geometry of admixture in population genetics","roots":[{"type":"object","name":"panel.models.location.Location","id":"p1002","attributes":{"name":"location","reload":false}},{"type":"object","name":"panel.models.markup.HTML","id":"p1008","attributes":{"name":"js_area","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1006","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1005","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/bundled/theme/native.css"}}],"width":0,"height":0,"margin":0,"sizing_mode":"fixed","align":"start","disable_math":true}},{"type":"object","name":"panel.models.reactive_html.ReactiveHTML","id":"p1010","attributes":{"name":"actions","subscribed_events":{"type":"set","entries":["dom_event"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":0,"align":"start","data":{"type":"object","name":"TemplateActions1","id":"p1009","attributes":{"name":"TemplateActions00216"}},"scripts":{"type":"map","entries":[["open_modal",["document.getElementById(&amp;#x27;pn-Modal&amp;#x27;).style.display = &amp;#x27;block&amp;#x27;\nwindow.dispatchEvent(new Event(&amp;#x27;resize&amp;#x27;));"]],["close_modal",["document.getElementById(&amp;#x27;pn-Modal&amp;#x27;).style.display = &amp;#x27;none&amp;#x27;"]]]}}},{"type":"object","name":"panel.models.browser.BrowserInfo","id":"p1011","attributes":{"name":"browser_info"}},{"type":"object","name":"panel.models.markup.HTML","id":"p1013","attributes":{"name":"busy_indicator","css_classes":["loader","light"],"stylesheets":[":host { --loading-spinner-size: 20px; }","\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1012","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/loadingspinner.css"}},{"id":"p1005"}],"min_width":20,"min_height":20,"margin":[5,10],"align":"start"}},{"type":"object","name":"panel.models.layout.Column","id":"p1014","attributes":{"name":"main-123730403037536","tags":["main"],"css_classes":["scrollable-vertical"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1007","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/listpanel.css"}},{"id":"p1005"}],"min_width":520,"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1016","attributes":{"css_classes":["markdown","alert","alert-primary"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1015","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/alerts.css"}},{"id":"p1005"}],"margin":[5,10],"sizing_mode":"stretch_width","align":"start","text":"&amp;lt;h3&amp;gt;Input files selection&amp;lt;/h3&amp;gt;\n&amp;lt;p&amp;gt;Please, select a triad of .geno, .ind and .snp input files, and optionally a .dat input file with a list of selected populations.&amp;lt;br /&amp;gt;\nThen press the parse button.&amp;lt;/p&amp;gt;\n"}},{"type":"object","name":"panel.models.tabs.Tabs","id":"p1017","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"min_width":520,"margin":0,"sizing_mode":"stretch_width","align":"start","tabs":[{"type":"object","name":"TabPanel","id":"p1045","attributes":{"name":"Inputs","title":"Inputs","child":{"type":"object","name":"panel.models.layout.Column","id":"p1018","attributes":{"name":"Inputs","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"min_width":520,"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.layout.Column","id":"p1019","attributes":{"name":"Column00115","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"min_width":520,"margin":[5,10],"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"Row","id":"p1020","attributes":{"name":"Row00134","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"width_policy":"max","align":"start","children":[{"type":"object","name":"panel.models.widgets.Button","id":"p1022","attributes":{"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1021","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/button.css"}},{"id":"p1005"}],"disabled":true,"width":40,"height":40,"margin":[5,10,0,0],"sizing_mode":"fixed","align":"center","label":"\u25c0"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1023","attributes":{"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"width":40,"height":40,"margin":[5,10,0,0],"sizing_mode":"fixed","align":"center","label":"\u25b6"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1024","attributes":{"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"width":40,"height":40,"margin":[5,10,0,0],"sizing_mode":"fixed","align":"center","label":"\u2b06"}},{"type":"object","name":"TextInput","id":"p1025","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10,0,0],"width_policy":"max","height_policy":"max","align":"start","value":"/home/jmcastelo/Code/Python/mixtum","max_length":5000}},{"type":"object","name":"panel.models.widgets.Button","id":"p1026","attributes":{"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"width":40,"height":40,"margin":[5,5,0,0],"sizing_mode":"fixed","align":"center","label":"\u2b07"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1027","attributes":{"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"width":40,"height":40,"margin":[5,0,0,10],"sizing_mode":"fixed","align":"center","label":"\u21bb"}}]}},{"type":"object","name":"Div","id":"p1029","attributes":{"name":"Divider00135","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1028","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/divider.css"}},{"id":"p1005"}],"margin":0,"width_policy":"fit","align":"start","text":"&lt;hr&gt;"}},{"type":"object","name":"Row","id":"p1030","attributes":{"name":"Row00117","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1035","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/select.css"}},{"id":"p1005"}],"height":300,"min_width":500,"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.layout.Column","id":"p1031","attributes":{"name":"Column00125","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"min_width":250,"margin":0,"sizing_mode":"stretch_both","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1033","attributes":{"css_classes":["markdown"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1032","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/markdown.css"}},{"id":"p1005"},"h4 { margin-block-start: 0; margin-block-end: 0;}"],"margin":0,"align":"start","text":"&amp;lt;h4&amp;gt;File Browser&amp;lt;/h4&amp;gt;\n"}},{"type":"object","name":"TextInput","id":"p1034","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":250,"min_width":250,"margin":[0,0,10,0],"width_policy":"max","align":"start","placeholder":"Filter available options","max_length":5000}},{"type":"object","name":"panel.models.widgets.CustomMultiSelect","id":"p1036","attributes":{"subscribed_events":{"type":"set","entries":["dblclick_event"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1035"},{"id":"p1005"}],"width":250,"margin":0,"sizing_mode":"stretch_both","align":"start","options":["\ud83d\udcc1docs","LICENSE","README.md","mixtum-gui.py","mixtum.py"],"size":10}}]}},{"type":"object","name":"panel.models.layout.Column","id":"p1037","attributes":{"name":"Column00127","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":[0,5],"align":"center","children":[{"type":"object","name":"panel.models.widgets.Button","id":"p1038","attributes":{"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"width":50,"min_width":50,"margin":[5,10],"align":"start","label":"\u276f\u276f"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1039","attributes":{"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"width":50,"min_width":50,"margin":[5,10],"align":"start","label":"\u276e\u276e"}}]}},{"type":"object","name":"panel.models.layout.Column","id":"p1040","attributes":{"name":"Column00126","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"min_width":250,"margin":0,"sizing_mode":"stretch_both","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1041","attributes":{"css_classes":["markdown"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1032"},{"id":"p1005"},"h4 { margin-block-start: 0; margin-block-end: 0;}"],"margin":0,"align":"start","text":"&amp;lt;h4&amp;gt;Selected files&amp;lt;/h4&amp;gt;\n"}},{"type":"object","name":"TextInput","id":"p1042","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":250,"min_width":250,"margin":[0,0,10,0],"width_policy":"max","align":"start","placeholder":"Filter selected options","max_length":5000}},{"type":"object","name":"panel.models.widgets.TextAreaInput","id":"p1043","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"disabled":true,"width":300,"margin":0,"sizing_mode":"stretch_both","align":"start","placeholder":"To select an item highlight it on the left and use the arrow button to move it to the right.","max_length":5000}}]}}]}}]}},{"type":"object","name":"panel.models.widgets.Button","id":"p1044","attributes":{"button_type":"primary","subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"margin":[5,10],"align":"start","label":"Parse and check input files"}}]}}}},{"type":"object","name":"TabPanel","id":"p1071","attributes":{"name":"Select populations","title":"Select populations","child":{"type":"object","name":"panel.models.reactive_html.ReactiveHTML","id":"p1047","attributes":{"subscribed_events":{"type":"set","entries":["dom_event"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","attrs":{"type":"map","entries":[["flexbox",[["style",["flex_wrap","justify_content","flex_direction","align_content","align_items","gap"],"display: flex; flex-wrap: {flex_wrap}; justify-content: {justify_content}; flex-direction: {flex_direction}; align-content: {align_content}; align-items: {align_items}; gap: {gap}; height: 100%;"]]]]},"children":{"type":"map","entries":[["flex-item",[{"type":"object","name":"panel.models.layout.Column","id":"p1048","attributes":{"name":"WidgetBox00172","css_classes":["panel-widget-box"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1057","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/css/widgetbox.css"}},{"id":"p1007"},{"id":"p1005"}],"margin":10,"align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1049","attributes":{"css_classes":["markdown"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1032"},{"id":"p1005"}],"margin":[5,10],"align":"start","text":"&amp;lt;h3&amp;gt;Available populations&amp;lt;/h3&amp;gt;\n"}},{"type":"object","name":"TextInput","id":"p1050","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"disabled":true,"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Search populations:","placeholder":"Enter population name","max_length":5000}},{"type":"object","name":"panel.models.tabulator.DataTabulator","id":"p1056","attributes":{"subscribed_events":{"type":"set","entries":["selection-change","cell-click","table-edit"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"type":"object","name":"ImportedStyleSheet","id":"p1052","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/bundled/font-awesome/css/all.min.css"}},{"id":"p1005"},{"type":"object","name":"ImportedStyleSheet","id":"p1115","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/bundled/datatabulator/tabulator-tables@5.5.0/dist/css/tabulator_simple.min.css"}}],"margin":[5,10],"align":"start","configuration":{"type":"map","entries":[["selectable",false],["columns",[]],["dataTree",false]]},"editable":false,"layout":"fit_data_table","source":{"type":"object","name":"ColumnDataSource","id":"p1053","attributes":{"selected":{"type":"object","name":"Selection","id":"p1054","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1055"},"data":{"type":"map"}}},"pagination":"local","page":1,"page_size":10,"max_page":1,"select_mode":false,"selectable_rows":null}}]}},{"type":"object","name":"panel.models.layout.Column","id":"p1058","attributes":{"name":"WidgetBox00175","css_classes":["panel-widget-box"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1057"},{"id":"p1007"},{"id":"p1005"}],"margin":10,"align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1059","attributes":{"css_classes":["markdown"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1032"},{"id":"p1005"}],"margin":[5,10],"align":"start","text":"&amp;lt;h3&amp;gt;Selected populations&amp;lt;/h3&amp;gt;\n"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1060","attributes":{"button_type":"primary","subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"margin":[5,10],"align":"start","label":"Reset selected populations"}},{"type":"object","name":"panel.models.tabulator.DataTabulator","id":"p1065","attributes":{"subscribed_events":{"type":"set","entries":["selection-change","cell-click","table-edit"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1052"},{"id":"p1005"},{"type":"object","name":"ImportedStyleSheet","id":"p1116","attributes":{"url":"https://cdn.holoviz.org/panel/1.4.5/dist/bundled/datatabulator/tabulator-tables@5.5.0/dist/css/tabulator_simple.min.css"}}],"margin":[5,10],"align":"start","buttons":{"type":"map","entries":[["remove","&lt;i class='fa fa-times'&gt;&lt;/i&gt;"]]},"configuration":{"type":"map","entries":[["selectable",false],["columns",[]],["dataTree",false]]},"editable":false,"layout":"fit_data_table","source":{"type":"object","name":"ColumnDataSource","id":"p1062","attributes":{"selected":{"type":"object","name":"Selection","id":"p1063","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1064"},"data":{"type":"map"}}},"pagination":"local","page":1,"page_size":10,"max_page":1,"select_mode":false,"selectable_rows":null}}]}},{"type":"object","name":"panel.models.layout.Column","id":"p1066","attributes":{"name":"WidgetBox00178","css_classes":["panel-widget-box"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1057"},{"id":"p1007"},{"id":"p1005"}],"margin":10,"align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1067","attributes":{"css_classes":["markdown"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1032"},{"id":"p1005"}],"margin":[5,10],"align":"start","text":"&amp;lt;h3&amp;gt;Computation&amp;lt;/h3&amp;gt;\n"}},{"type":"object","name":"Spinner","id":"p1068","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Number of parallel processes","value":1,"low":1,"placeholder":"0","mode":"int"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1069","attributes":{"button_type":"primary","subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"margin":[5,10],"align":"start","label":"Compute allele frequencies"}},{"type":"object","name":"panel.models.widgets.FileDownload","id":"p1070","attributes":{"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"margin":[5,10],"align":"start","auto":true,"button_type":"primary","label":"Download allele frequencies"}}]}}]]]},"data":{"type":"object","name":"FlexBox1","id":"p1046","attributes":{"name":"Select populations"}},"html":"&amp;lt;div id=&amp;quot;flexbox-${id}&amp;quot; style=&amp;quot;display: flex; flex-wrap: ${flex_wrap}; justify-content: ${justify_content}; flex-direction: ${flex_direction}; align-content: ${align_content}; align-items: ${align_items}; gap: ${gap}; height: 100%;&amp;quot;&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-0-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-1-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-2-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n&amp;lt;/div&amp;gt;","looped":["flex-item"],"nodes":["flexbox","flex-item-0","flex-item-1","flex-item-2"]}}}},{"type":"object","name":"TabPanel","id":"p1112","attributes":{"name":"Results","title":"Results","child":{"type":"object","name":"panel.models.layout.Column","id":"p1072","attributes":{"name":"Results","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.reactive_html.ReactiveHTML","id":"p1074","attributes":{"subscribed_events":{"type":"set","entries":["dom_event"]},"styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":10,"sizing_mode":"stretch_width","align":"start","attrs":{"type":"map","entries":[["flexbox",[["style",["flex_wrap","justify_content","flex_direction","align_content","align_items","gap"],"display: flex; flex-wrap: {flex_wrap}; justify-content: {justify_content}; flex-direction: {flex_direction}; align-content: {align_content}; align-items: {align_items}; gap: {gap}; height: 100%;"]]]]},"children":{"type":"map","entries":[["flex-item",[{"type":"object","name":"panel.models.layout.Column","id":"p1075","attributes":{"name":"Column00197","styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.layout.Card","id":"p1076","attributes":{"name":"Card00181","css_classes":["card"],"styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":10,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"Row","id":"p1083","attributes":{"name":"Row00180","css_classes":["card-header-row"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1084","attributes":{"css_classes":["card-title"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":[5,0],"align":"start","text":"&amp;lt;h3&amp;gt;Admixture model&amp;lt;/h3&amp;gt;","disable_math":true}}]}},{"type":"object","name":"panel.models.reactive_html.ReactiveHTML","id":"p1078","attributes":{"subscribed_events":{"type":"set","entries":["dom_event"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","attrs":{"type":"map","entries":[["flexbox",[["style",["flex_wrap","justify_content","flex_direction","align_content","align_items","gap"],"display: flex; flex-wrap: {flex_wrap}; justify-content: {justify_content}; flex-direction: {flex_direction}; align-content: {align_content}; align-items: {align_items}; gap: {gap}; height: 100%;"]]]]},"children":{"type":"map","entries":[["flex-item",[{"type":"object","name":"panel.models.widgets.SingleSelect","id":"p1079","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1035"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Hybrid","size":10}},{"type":"object","name":"panel.models.widgets.SingleSelect","id":"p1080","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1035"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Parent 1","size":10}},{"type":"object","name":"panel.models.widgets.SingleSelect","id":"p1081","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1035"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Parent 2","size":10}},{"type":"object","name":"panel.models.widgets.CustomMultiSelect","id":"p1082","attributes":{"subscribed_events":{"type":"set","entries":["dblclick_event"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1035"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Auxiliaries","size":10}}]]]},"data":{"type":"object","name":"FlexBox1","id":"p1077","attributes":{"name":"FlexBox00179","justify_content":"space-evenly"}},"html":"&amp;lt;div id=&amp;quot;flexbox-${id}&amp;quot; style=&amp;quot;display: flex; flex-wrap: ${flex_wrap}; justify-content: ${justify_content}; flex-direction: ${flex_direction}; align-content: ${align_content}; align-items: ${align_items}; gap: ${gap}; height: 100%;&amp;quot;&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-0-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-1-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-2-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-3-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n&amp;lt;/div&amp;gt;","looped":["flex-item"],"nodes":["flexbox","flex-item-0","flex-item-1","flex-item-2","flex-item-3"]}}],"active_header_background":"","button_css_classes":["card-button"],"collapsed":false,"collapsible":false,"header_background":"","header_color":"","header_css_classes":["card-header"]}},{"type":"object","name":"panel.models.reactive_html.ReactiveHTML","id":"p1086","attributes":{"subscribed_events":{"type":"set","entries":["dom_event"]},"styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":10,"sizing_mode":"stretch_width","align":"start","attrs":{"type":"map","entries":[["flexbox",[["style",["flex_wrap","justify_content","flex_direction","align_content","align_items","gap"],"display: flex; flex-wrap: {flex_wrap}; justify-content: {justify_content}; flex-direction: {flex_direction}; align-content: {align_content}; align-items: {align_items}; gap: {gap}; height: 100%;"]]]]},"children":{"type":"map","entries":[["flex-item",[{"type":"object","name":"panel.models.layout.Card","id":"p1087","attributes":{"name":"Card00185","css_classes":["card"],"styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":10,"align":"start","children":[{"type":"object","name":"Row","id":"p1091","attributes":{"name":"Row00184","css_classes":["card-header-row"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1092","attributes":{"css_classes":["card-title"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":[5,0],"align":"start","text":"&amp;lt;h3&amp;gt;Actions&amp;lt;/h3&amp;gt;","disable_math":true}}]}},{"type":"object","name":"panel.models.widgets.Button","id":"p1088","attributes":{"button_type":"primary","subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"margin":[5,10],"align":"start","label":"Compute results"}},{"type":"object","name":"panel.models.widgets.FileDownload","id":"p1089","attributes":{"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"margin":[5,10],"align":"start","auto":true,"button_type":"primary","label":"Download f4-points"}},{"type":"object","name":"panel.models.widgets.FileDownload","id":"p1090","attributes":{"css_classes":["solid"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1021"},{"id":"p1005"}],"disabled":true,"margin":[5,10],"align":"start","auto":true,"button_type":"primary","label":"Download results"}}],"active_header_background":"","button_css_classes":["card-button"],"collapsed":false,"collapsible":false,"header_background":"","header_color":"","header_css_classes":["card-header"]}},{"type":"object","name":"panel.models.layout.Card","id":"p1093","attributes":{"name":"Card00189","css_classes":["card"],"styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":10,"align":"start","children":[{"type":"object","name":"Row","id":"p1098","attributes":{"name":"Row00188","css_classes":["card-header-row"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1099","attributes":{"css_classes":["card-title"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":[5,0],"align":"start","text":"&amp;lt;h3&amp;gt;Plot options&amp;lt;/h3&amp;gt;","disable_math":true}}]}},{"type":"object","name":"Spinner","id":"p1094","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Plot width (inches)","value":4,"low":0.1,"step":0.1}},{"type":"object","name":"Spinner","id":"p1095","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Plot height (inches)","value":4,"low":0.1,"step":0.1}},{"type":"object","name":"Spinner","id":"p1096","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Plot title font size","value":10,"low":1,"placeholder":"0","mode":"int"}},{"type":"object","name":"Spinner","id":"p1097","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"width":300,"min_width":300,"margin":[5,10],"align":"start","title":"Plot labels font size","value":10,"low":1,"placeholder":"0","mode":"int"}}],"active_header_background":"","button_css_classes":["card-button"],"collapsed":false,"collapsible":false,"header_background":"","header_color":"","header_css_classes":["card-header"]}}]]]},"data":{"type":"object","name":"FlexBox1","id":"p1085","attributes":{"name":"FlexBox00196","justify_content":"space-evenly"}},"html":"&amp;lt;div id=&amp;quot;flexbox-${id}&amp;quot; style=&amp;quot;display: flex; flex-wrap: ${flex_wrap}; justify-content: ${justify_content}; flex-direction: ${flex_direction}; align-content: ${align_content}; align-items: ${align_items}; gap: ${gap}; height: 100%;&amp;quot;&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-0-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-1-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n&amp;lt;/div&amp;gt;","looped":["flex-item"],"nodes":["flexbox","flex-item-0","flex-item-1"]}}]}},{"type":"object","name":"panel.models.layout.Card","id":"p1100","attributes":{"name":"Card00193","css_classes":["card"],"styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":10,"align":"start","children":[{"type":"object","name":"Row","id":"p1102","attributes":{"name":"Row00192","css_classes":["card-header-row"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1103","attributes":{"css_classes":["card-title"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":[5,0],"align":"start","text":"&amp;lt;h3&amp;gt;Results&amp;lt;/h3&amp;gt;","disable_math":true}}]}},{"type":"object","name":"panel.models.markup.HTML","id":"p1101","attributes":{"css_classes":["markdown"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1032"},{"id":"p1005"}],"margin":[5,10],"align":"start"}}],"active_header_background":"","button_css_classes":["card-button"],"collapsed":false,"collapsible":false,"header_background":"","header_color":"","header_css_classes":["card-header"]}}]]]},"data":{"type":"object","name":"FlexBox1","id":"p1073","attributes":{"name":"FlexBox00198","justify_content":"space-evenly"}},"html":"&amp;lt;div id=&amp;quot;flexbox-${id}&amp;quot; style=&amp;quot;display: flex; flex-wrap: ${flex_wrap}; justify-content: ${justify_content}; flex-direction: ${flex_direction}; align-content: ${align_content}; align-items: ${align_items}; gap: ${gap}; height: 100%;&amp;quot;&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-0-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-1-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n&amp;lt;/div&amp;gt;","looped":["flex-item"],"nodes":["flexbox","flex-item-0","flex-item-1"]}},{"type":"object","name":"panel.models.layout.Card","id":"p1104","attributes":{"name":"Card00201","css_classes":["card"],"styles":{"type":"map","entries":[["width","fit-content"]]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":10,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"Row","id":"p1110","attributes":{"name":"Row00200","css_classes":["card-header-row"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1007"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","children":[{"type":"object","name":"panel.models.markup.HTML","id":"p1111","attributes":{"css_classes":["card-title"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":[5,0],"align":"start","text":"&amp;lt;h3&amp;gt;Plots&amp;lt;/h3&amp;gt;","disable_math":true}}]}},{"type":"object","name":"panel.models.reactive_html.ReactiveHTML","id":"p1106","attributes":{"subscribed_events":{"type":"set","entries":["dom_event"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":0,"sizing_mode":"stretch_width","align":"start","attrs":{"type":"map","entries":[["flexbox",[["style",["flex_wrap","justify_content","flex_direction","align_content","align_items","gap"],"display: flex; flex-wrap: {flex_wrap}; justify-content: {justify_content}; flex-direction: {flex_direction}; align-content: {align_content}; align-items: {align_items}; gap: {gap}; height: 100%;"]]]]},"children":{"type":"map","entries":[["flex-item",[{"type":"object","name":"panel.models.markup.HTML","id":"p1107","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":10,"align":["center","start"],"text":"&lt;img&gt;&lt;/img&gt;"}},{"type":"object","name":"panel.models.markup.HTML","id":"p1108","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":10,"align":["center","start"],"text":"&lt;img&gt;&lt;/img&gt;"}},{"type":"object","name":"panel.models.markup.HTML","id":"p1109","attributes":{"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"id":"p1006"},{"id":"p1005"}],"margin":10,"align":["center","start"],"text":"&lt;img&gt;&lt;/img&gt;"}}]]]},"data":{"type":"object","name":"FlexBox1","id":"p1105","attributes":{"name":"FlexBox00199","justify_content":"space-evenly"}},"html":"&amp;lt;div id=&amp;quot;flexbox-${id}&amp;quot; style=&amp;quot;display: flex; flex-wrap: ${flex_wrap}; justify-content: ${justify_content}; flex-direction: ${flex_direction}; align-content: ${align_content}; align-items: ${align_items}; gap: ${gap}; height: 100%;&amp;quot;&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-0-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-1-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n  &amp;lt;div id=&amp;quot;flex-item-2-${id}&amp;quot; style=&amp;quot;display: contents;&amp;quot;&amp;gt;\n\n  &amp;lt;/div&amp;gt;\n\n&amp;lt;/div&amp;gt;","looped":["flex-item"],"nodes":["flexbox","flex-item-0","flex-item-1","flex-item-2"]}}],"active_header_background":"","button_css_classes":["card-button"],"collapsed":false,"collapsible":false,"header_background":"","header_color":"","header_css_classes":["card-header"]}}]}}}}]}}]}}],"defs":[{"type":"model","name":"ReactiveHTML1"},{"type":"model","name":"FlexBox1","properties":[{"name":"align_content","kind":"Any","default":"flex-start"},{"name":"align_items","kind":"Any","default":"flex-start"},{"name":"flex_direction","kind":"Any","default":"row"},{"name":"flex_wrap","kind":"Any","default":"wrap"},{"name":"gap","kind":"Any","default":""},{"name":"justify_content","kind":"Any","default":"flex-start"}]},{"type":"model","name":"FloatPanel1","properties":[{"name":"config","kind":"Any","default":{"type":"map"}},{"name":"contained","kind":"Any","default":true},{"name":"position","kind":"Any","default":"right-top"},{"name":"offsetx","kind":"Any","default":null},{"name":"offsety","kind":"Any","default":null},{"name":"theme","kind":"Any","default":"primary"},{"name":"status","kind":"Any","default":"normalized"}]},{"type":"model","name":"GridStack1","properties":[{"name":"mode","kind":"Any","default":"warn"},{"name":"ncols","kind":"Any","default":null},{"name":"nrows","kind":"Any","default":null},{"name":"allow_resize","kind":"Any","default":true},{"name":"allow_drag","kind":"Any","default":true},{"name":"state","kind":"Any","default":[]}]},{"type":"model","name":"drag1","properties":[{"name":"slider_width","kind":"Any","default":5},{"name":"slider_color","kind":"Any","default":"black"},{"name":"value","kind":"Any","default":50}]},{"type":"model","name":"click1","properties":[{"name":"terminal_output","kind":"Any","default":""},{"name":"debug_name","kind":"Any","default":""},{"name":"clears","kind":"Any","default":0}]},{"type":"model","name":"FastWrapper1","properties":[{"name":"object","kind":"Any","default":null},{"name":"style","kind":"Any","default":null}]},{"type":"model","name":"NotificationAreaBase1","properties":[{"name":"js_events","kind":"Any","default":{"type":"map"}},{"name":"position","kind":"Any","default":"bottom-right"},{"name":"_clear","kind":"Any","default":0}]},{"type":"model","name":"NotificationArea1","properties":[{"name":"js_events","kind":"Any","default":{"type":"map"}},{"name":"notifications","kind":"Any","default":[]},{"name":"position","kind":"Any","default":"bottom-right"},{"name":"_clear","kind":"Any","default":0},{"name":"types","kind":"Any","default":[{"type":"map","entries":[["type","warning"],["background","#ffc107"],["icon",{"type":"map","entries":[["className","fas fa-exclamation-triangle"],["tagName","i"],["color","white"]]}]]},{"type":"map","entries":[["type","info"],["background","#007bff"],["icon",{"type":"map","entries":[["className","fas fa-info-circle"],["tagName","i"],["color","white"]]}]]}]}]},{"type":"model","name":"Notification","properties":[{"name":"background","kind":"Any","default":null},{"name":"duration","kind":"Any","default":3000},{"name":"icon","kind":"Any","default":null},{"name":"message","kind":"Any","default":""},{"name":"notification_type","kind":"Any","default":null},{"name":"_destroyed","kind":"Any","default":false}]},{"type":"model","name":"TemplateActions1","properties":[{"name":"open_modal","kind":"Any","default":0},{"name":"close_modal","kind":"Any","default":0}]},{"type":"model","name":"BootstrapTemplateActions1","properties":[{"name":"open_modal","kind":"Any","default":0},{"name":"close_modal","kind":"Any","default":0}]},{"type":"model","name":"TemplateEditor1","properties":[{"name":"layout","kind":"Any","default":[]}]},{"type":"model","name":"MaterialTemplateActions1","properties":[{"name":"open_modal","kind":"Any","default":0},{"name":"close_modal","kind":"Any","default":0}]},{"type":"model","name":"copy_to_clipboard1","properties":[{"name":"fill","kind":"Any","default":"none"},{"name":"value","kind":"Any","default":null}]}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('p1119').textContent;
              const render_items = [{"docid":"c1e7f9d2-1a8d-48e0-94dc-c1dc93697868","roots":{"p1002":"f30fb28e-3a32-4233-8399-250d8fdfdb1c","p1008":"ba29b944-d8f4-489a-85e1-75a252ce1a18","p1010":"fa89501f-acf7-4ce1-893c-61ffc63a8904","p1011":"ad65f7cb-8b65-4bd4-966c-2d9776c73939","p1013":"f64830ed-a13b-4990-b012-618effa73c44","p1014":"dd0296b4-f969-4cc9-b61f-9b9da43944ef"},"root_ids":["p1002","p1008","p1010","p1011","p1013","p1014"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>